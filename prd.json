{
  "name": "TwoCups Sprint 6 - Technical Debt & Polish",
  "branchName": "main",
  "description": "Address technical debt, improve reliability, add offline support, and prepare for production release",
  "created": "2026-01-14",

  "decisions": {
    "D1_Offline": "Use Firestore persistence for offline support",
    "D2_ErrorBoundary": "React error boundaries with fallback UI",
    "D3_Testing": "Focus on critical path testing, not 100% coverage"
  },

  "userStories": [
    {
      "id": "US-038",
      "title": "App Icon and Splash Screen",
      "description": "Create and configure app icon and splash screen for Android and iOS.",
      "acceptanceCriteria": [
        "App icon designed (Two Cups theme)",
        "Icon configured for all Android & iOS densities",
        "Splash screen shows app logo on launch",
        "Splash screen transitions smoothly to app",
        "No white flash between splash and app"
      ],
      "priority": 1,
      "passes": true,
      "blocked": false,
      "blockedReason": null,
      "completedDate": "2026-01-15",
      "notes": "Two cups icon (purple + gold) with heart. PWA update system also added."
    },
    {
      "id": "US-039",
      "title": "Replace 'any' Types with Proper TypeScript Types",
      "description": "Eliminate 'any' types throughout the codebase for better type safety.",
      "acceptanceCriteria": [
        "All 10+ instances of 'any' type identified and replaced",
        "Proper interfaces/types defined where needed",
        "TypeScript strict mode passes without errors",
        "No runtime regressions introduced"
      ],
      "priority": 2,
      "passes": true,
      "blocked": false,
      "blockedReason": null,
      "completedDate": "2026-01-15",
      "notes": "14 instances replaced. Added error handling utilities and browser API types. Fixed console runtime errors."
    },
    {
      "id": "US-040",
      "title": "Fix Type Mismatches Between Functions and Mobile (Android & iOS)",
      "description": "Align Suggestion and Request interfaces between Cloud Functions and mobile app.",
      "acceptanceCriteria": [
        "Shared type definitions between functions and mobile",
        "Suggestion interface consistent across codebase",
        "Request interface consistent across codebase",
        "TypeScript compilation passes in both projects"
      ],
      "priority": 3,
      "passes": false,
      "blocked": false,
      "blockedReason": null
    },
    {
      "id": "US-041",
      "title": "Remove Debug Console Statements",
      "description": "Clean up console.log and console.error statements, replace with proper logging.",
      "acceptanceCriteria": [
        "All 20+ debug console statements identified",
        "Production code uses Crashlytics for error logging",
        "Development logging is conditional on __DEV__ flag",
        "No sensitive data logged"
      ],
      "priority": 4,
      "passes": false,
      "blocked": true,
      "blockedReason": "Depends on US-062 (Crashlytics) for proper error reporting replacement"
    },
    {
      "id": "US-042",
      "title": "Centralize Configuration Constants",
      "description": "Move duplicated configuration values to a single source of truth.",
      "acceptanceCriteria": [
        "Configuration constants in single config file",
        "No duplicated magic numbers or strings",
        "All 3+ files with duplicated config updated",
        "Easy to modify configuration in one place"
      ],
      "priority": 5,
      "passes": false,
      "blocked": false,
      "blockedReason": null
    },
    {
      "id": "US-043",
      "title": "Input Validation Improvements",
      "description": "Add comprehensive input validation with max lengths, email regex, and sanitization.",
      "acceptanceCriteria": [
        "Max length validation on all text inputs",
        "Proper email regex validation",
        "Input sanitization to prevent injection",
        "Validation error messages are user-friendly",
        "Server-side validation matches client-side"
      ],
      "priority": 6,
      "passes": false,
      "blocked": false,
      "blockedReason": null
    },
    {
      "id": "US-044",
      "title": "Fix Unawaited Promises",
      "description": "Add proper await handling to promises in MilestoneCelebrationContext and AcknowledgeScreen.",
      "acceptanceCriteria": [
        "All promises properly awaited or handled",
        "MilestoneCelebrationContext async issues fixed",
        "AcknowledgeScreen async issues fixed",
        "No unhandled promise rejections",
        "ESLint no-floating-promises rule passes"
      ],
      "priority": 7,
      "passes": false,
      "blocked": false,
      "blockedReason": null
    },
    {
      "id": "US-045",
      "title": "Fix Silent Failures",
      "description": "Replace empty catch blocks with proper error handling.",
      "acceptanceCriteria": [
        "All empty catch blocks identified and fixed",
        "Errors logged to Crashlytics or handled appropriately",
        "User notified when operations fail",
        "No silent swallowing of errors"
      ],
      "priority": 8,
      "passes": false,
      "blocked": true,
      "blockedReason": "Depends on US-062 (Crashlytics) for proper error logging"
    },
    {
      "id": "US-046",
      "title": "Fix Confusing Property Names",
      "description": "Rename unclear property names like 'odI' to descriptive names.",
      "acceptanceCriteria": [
        "'odI' renamed to clear, descriptive name",
        "All confusing property names identified and fixed",
        "Naming follows project conventions",
        "All usages updated consistently"
      ],
      "priority": 9,
      "passes": false,
      "blocked": false,
      "blockedReason": null
    }
  ]
}
